# Default values for todo-chatbot
# This is a YAML-formatted file.

# Global configuration
global:
  imagePullPolicy: IfNotPresent

# Database configuration
database:
  enabled: true
  image: postgres:15-alpine
  name: tododb
  user: todouser
  password: todopassword
  port: 5432
  storage: 1Gi
  storageClassName: standard

# Backend configuration
backend:
  enabled: true
  name: backend
  replicaCount: 1
  image:
    repository: todo-backend
    tag: v1
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8000
    targetPort: 8000
  env:
    - name: DATABASE_URL
      value: "postgresql://todouser:todopassword@todo-chatbot-database:5432/tododb"
    - name: PYTHONUNBUFFERED
      value: "1"
  resources:
    requests:
      memory: "256Mi"
      cpu: "250m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  livenessProbe:
    httpGet:
      path: /docs
      port: 8000
    initialDelaySeconds: 30
    periodSeconds: 10
  readinessProbe:
    httpGet:
      path: /docs
      port: 8000
    initialDelaySeconds: 10
    periodSeconds: 5

# Frontend configuration
frontend:
  enabled: true
  name: frontend
  replicaCount: 2
  image:
    repository: todo-frontend
    tag: v1
    pullPolicy: IfNotPresent
  service:
    type: NodePort
    port: 3000
    targetPort: 3000
    nodePort: 30080
  env:
    - name: NEXT_PUBLIC_API_URL
      value: "http://todo-chatbot-backend:8000"
    - name: NODE_ENV
      value: "production"
  resources:
    requests:
      memory: "256Mi"
      cpu: "250m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  livenessProbe:
    httpGet:
      path: /
      port: 3000
    initialDelaySeconds: 30
    periodSeconds: 10
  readinessProbe:
    httpGet:
      path: /
      port: 3000
    initialDelaySeconds: 10
    periodSeconds: 5

# Service Account
serviceAccount:
  create: true
  name: todo-chatbot-sa
